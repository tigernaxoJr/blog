<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>[Web] Web 相關 on YuCheng&#39;s Site</title>
    <link>https://0.0.0.0:1313/posts/web/</link>
    <description>Recent content in [Web] Web 相關 on YuCheng&#39;s Site</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Fri, 07 Jul 2023 08:11:00 +0800</lastBuildDate><atom:link href="https://0.0.0.0:1313/posts/web/index.xml" rel="self" type="application/rss+xml" /><item>
      <title>[Web] WebSub</title>
      <link>https://0.0.0.0:1313/posts/web/web-websub/</link>
      <pubDate>Fri, 07 Jul 2023 08:11:00 +0800</pubDate>
      
      <guid>https://0.0.0.0:1313/posts/web/web-websub/</guid>
      <description>&lt;p&gt;WebSub 是一個用於&lt;code&gt;發布者（Publisher）&lt;/code&gt;和&lt;code&gt;訂閱者（Subscriber）&lt;/code&gt;之間，&lt;code&gt;各種網頁內容&lt;/code&gt;通信的通用機制。&lt;br&gt;
&lt;code&gt;訂閱者請求&lt;/code&gt;通過中樞（hubs）進行中繼，&lt;code&gt;中樞會驗證和驗證&lt;/code&gt;請求。
當有新的內容或內容更新時，中樞會&lt;code&gt;透過 HTTP Webhook 分發給訂閱者&lt;/code&gt;。&lt;br&gt;
WebSub 以前被稱為 PubSubHubbub。&lt;br&gt;
這裡描述 content-type 是 json 的情況，xml 需要不同機制處理。
步驟：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;訂閱者向發布者&lt;/code&gt;請求資源，並在發布者回傳的&lt;code&gt;HTTP標頭&lt;/code&gt;當中發現 hub。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;訂閱者向hub&lt;/code&gt;送出POST請求訂閱。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hub&lt;/code&gt;透過GET驗證和驗證訂閱請求。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;發布者&lt;/code&gt;告訴 hub 內容更新。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hub&lt;/code&gt;送出POST告訴訂閱者內容更新。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;WebSub 名詞解釋&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Topic&lt;/code&gt;：簡單說就是 Publisher 的 resource URL。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Publisher&lt;/code&gt;：topic 擁有者，告知 hub topic 已經改變，本身不會知道被誰訂閱。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Subcriber&lt;/code&gt;：一個需要被即時通知 topic 改變的實體(entity)，必須要有可呼叫的 Callback URL （Http WebHook）用來接收 topic 更新通知，流程中使用 Callback URL 作為 id。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Hub&lt;/code&gt;：&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Subscription&lt;/code&gt;： id 是一個 tuple (Topic, Subscriber Callback URL)，根據 hub 的政策可能類似 DHCP 需要定期更新。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Event&lt;/code&gt;：Publisher 上發生的事件，可能同時會更新很多 topic。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Content Distribution Notification (Content Distribution Request)&lt;/code&gt;：依據 topic 種類(content type)不同，可以是描述 topic 內容改變的 payload 或完整的 topic 內容，topic 內容的差異被 hub 計算過後推送到訂閱者。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;discovery-mechanisms&#34;&gt;Discovery Mechanisms&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;header 中&lt;code&gt;至少&lt;/code&gt;要有一個 rel=hub 的 link 描述 &lt;code&gt;hub 位址&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;header 中&lt;code&gt;只能&lt;/code&gt;有一個 rel=self 的 link 描述 &lt;code&gt;topic&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;content-negotiation&#34;&gt;Content Negotiation&lt;/h2&gt;
&lt;p&gt;要在 initial discovery request 裡面聲明 Content-type&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>[Keycloak] docker 安裝</title>
      <link>https://0.0.0.0:1313/posts/web/keycloak-docker-compose/</link>
      <pubDate>Sun, 01 Jan 2023 07:44:00 +0800</pubDate>
      
      <guid>https://0.0.0.0:1313/posts/web/keycloak-docker-compose/</guid>
      <description>&lt;p&gt;採用的映象檔是 &lt;code&gt;bitnami/keycloak&lt;/code&gt; ，因為我需要使用網址來區分服務(同一個 port 的情況下)，所以採取反向代理的方式，一方面讓之後要部屬其他應用、加上憑證、等等操作都交給 nginx 比較方便。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;建立 docker 網路 &lt;code&gt;mynetwork&lt;/code&gt;，如果設定其他名稱，以下步驟再自行調整對應。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker create network mynetwork
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;建立 docker-compose 環境 &lt;code&gt;keycloak/.env&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KEYCLOCK_IMAGE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;bitnami/keycloak:23.0.3
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KEYCLOAK_DATABASE_VENDOR&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;postgresql
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KEYCLOAK_DATABASE_PORT&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5432&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KEYCLOAK_DATABASE_USER&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;keycloak
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KEYCLOAK_DATABASE_PASSWORD&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;password
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KEYCLOAK_DATABASE_NAME&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;keycloak
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KEYCLOAK_ADMIN_USER&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;admin
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;KEYCLOAK_ADMIN_PASSWORD&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;admin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;keycloak/docker-compose.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;version&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;3&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;postgres_data&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;driver&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;local&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;services&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;keycloak_db&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;postgres&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;restart&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;always&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;postgres_data:/var/lib/postgresql/data&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;POSTGRES_DB&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_DATABASE_NAME}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;POSTGRES_USER&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_DATABASE_USER}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;POSTGRES_PASSWORD&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_DATABASE_PASSWORD}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;networks&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;mynetwork&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;keycloak&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOCK_IMAGE}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_DATABASE_VENDOR&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_DATABASE_VENDOR}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_DATABASE_HOST&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;keycloak_db&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_DATABASE_PORT&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_DATABASE_PORT}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_DATABASE_NAME&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_DATABASE_NAME}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_DATABASE_USER&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_DATABASE_USER}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_DATABASE_PASSWORD&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_DATABASE_PASSWORD}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_DATABASE_SCHEMA&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;public&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_ADMIN_USER&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_ADMIN_USER}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_ADMIN_PASSWORD&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;${KEYCLOAK_ADMIN_PASSWORD}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_ENABLE_HEALTH_ENDPOINTS&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;true&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KEYCLOAK_ENABLE_STATISTICS&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;true&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KC_PROXY&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;edge&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KC_PROXY_ADDRESS_FORWARDING&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;true&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;KC_HTTP_ENABLED&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;true&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;restart&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;unless-stopped&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;networks&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;mynetwork&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;depends_on&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;keycloak_db&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;networks&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;mynetwork&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;external&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;建立 &lt;code&gt;nginx/nginx.conf&lt;/code&gt;，這裡我把 &lt;code&gt;keycloak.docker.vm&lt;/code&gt; 給 keycloak，裡面有一些設置 ssl 用得到的區塊放置在註解。&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>[Web] API Design</title>
      <link>https://0.0.0.0:1313/posts/web/web-api-design/</link>
      <pubDate>Mon, 11 Jul 2022 11:35:00 +0800</pubDate>
      
      <guid>https://0.0.0.0:1313/posts/web/web-api-design/</guid>
      <description>&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://learn.microsoft.com/en-us/azure/architecture/best-practices/index-best-practices&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Best practices in cloud applications&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>[Web] RESTful 敏感性 GET 參數</title>
      <link>https://0.0.0.0:1313/posts/web/security-get/</link>
      <pubDate>Mon, 11 Jul 2022 11:35:00 +0800</pubDate>
      
      <guid>https://0.0.0.0:1313/posts/web/security-get/</guid>
      <description>&lt;h2 id=&#34;網址列參數洩漏風險&#34;&gt;網址列參數洩漏風險&lt;/h2&gt;
&lt;p&gt;目前網頁後端資源存取大多以 RESTful Api 開發，
REST 標準下 API 的設計需符合冪等性(idempotent)，
SSL 連線連接 TCP 層與 HTTP 層，因此透過 HTTPS 傳輸的網頁，網址進入 TCP 層之後是被加密的，
即使封包被截取也只能看見要傳送的目標主機
那麼敏感性資料可以透過 GET 參數傳送嗎？&lt;/p&gt;
&lt;p&gt;如果將機敏性資料夾帶於網址列當中會有洩漏的安全性風險，諸如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;被 Shoulder surfers 竊取。(你的螢幕被偷看)&lt;/li&gt;
&lt;li&gt;隨著頁面列印被印出。&lt;/li&gt;
&lt;li&gt;使用者將連結加入書籤。&lt;/li&gt;
&lt;li&gt;儲存在瀏覽器瀏覽歷史紀錄。&lt;/li&gt;
&lt;li&gt;被記錄在 Web Server 的 Log，而 Log 本身可能不安全。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;隱藏-restful-get-參數&#34;&gt;隱藏 RESTful GET 參數&lt;/h2&gt;
&lt;p&gt;因此避免這些資料外洩的可能，根本的做法就是讓機敏性資料從網址列消失，最好的做法是依據 OWASP 的建議把 參數夾帶在 Header 裡面，其他手段整理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;將機敏性資料加密，但加密也&lt;strong&gt;會破壞 API RESTful 特性&lt;/strong&gt;，在後端需要先解密無法直接對應回物件。&lt;/li&gt;
&lt;li&gt;以 POST 的一部份傳輸(透過 HTTPS)，但&lt;strong&gt;會直接破壞 API 的 RESTful 特性&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;根據 &lt;a href=&#34;https://cheatsheetseries.owasp.org/cheatsheets/REST_Security_Cheat_Sheet.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;OWASP REST Security Cheat Sheet&lt;/a&gt;，應該把敏感性參數夾帶在 GET 請求的 HTTP Header 裡面透過 HTTPS 傳輸。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;P.S. OWASP 的 Cheat Sheet 可看出並非所有資料都要不能出現在網址列，只有機敏性資料才需要考慮從網址列移除。`&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>[Web] 把電腦的難字造字檔用 FontForge 轉為字型放到網頁上使用</title>
      <link>https://0.0.0.0:1313/posts/web/web-tool-eudc-frontforge/eudc/</link>
      <pubDate>Tue, 24 Aug 2021 10:07:00 +0800</pubDate>
      
      <guid>https://0.0.0.0:1313/posts/web/web-tool-eudc-frontforge/eudc/</guid>
      <description>&lt;p&gt;Web 在顯示姓名的時候常會遇到中文難字無法顯示，
此時開發者在本機端如果有安裝造字檔 EUDC.TTE 就可以轉為 &lt;code&gt;woff&lt;/code&gt;、&lt;code&gt;woff2&lt;/code&gt;、&lt;code&gt;ttf&lt;/code&gt; 讓網頁正確顯示難字。
過程需要字型工具軟體 &lt;a href=&#34;https://fontforge.org/en-US/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;FontForge&lt;/a&gt;，
步驟如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;拿到造字檔 EUDC.TTE&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;用 &lt;code&gt;cmd&lt;/code&gt; 打開 &lt;code&gt;regedit&lt;/code&gt; (win10 搜尋圖示點下後，輸入 &lt;code&gt;cmd&lt;/code&gt;，出現小黑窗後再輸入 &lt;code&gt;regedit&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;找到機碼 HKEY_CURRENT_USER -&amp;gt; EUDC -&amp;gt; 950 資料夾下的 &lt;code&gt;SystemDefaultEUDCFont&lt;/code&gt; 設定檔。&lt;/li&gt;
&lt;li&gt;從設定檔的值就是 EUDC 的存放位址取出 &lt;code&gt;EUDC.tte&lt;/code&gt;，我這裡是 &lt;code&gt;C:\CIBEN\EUDC.tte&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;安裝 &lt;a href=&#34;https://fontforge.org/en-US/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;FontForge&lt;/a&gt;，找到 &lt;code&gt;fontforge.exe&lt;/code&gt; 的位址 (&lt;strong&gt;注意，跟桌面捷徑呼叫的執行檔不一樣！&lt;/strong&gt;)，我的是在 &lt;code&gt;C:/Program Files (x86)/FontForgeBuilds/bin/fontforge.exe&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;建立一個轉檔腳本 &lt;code&gt;tte-extract.pe&lt;/code&gt;，內容如下
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# Open EUDC TTE
Open(&amp;#34;EUDC.tte&amp;#34;, 4)
# CHANGE TTFNAME 2 EUDC 
SetTTFName(0x409,1,&amp;#34;EUDC&amp;#34;)
SetTTFName(0x409,2,&amp;#34;EUDC&amp;#34;)
SetTTFName(0x409,3,&amp;#34;EUDC&amp;#34;)
SetTTFName(0x409,4,&amp;#34;EUDC&amp;#34;)
SetTTFName(0x404,1,&amp;#34;EUDC&amp;#34;)
SetTTFName(0x404,2,&amp;#34;EUDC&amp;#34;)
SetTTFName(0x409,3,&amp;#34;&amp;#34;)
SetTTFName(0x404,4,&amp;#34;EUDC&amp;#34;)
SetFontNames(&amp;#34;EUDC&amp;#34;, &amp;#34;EUDC&amp;#34;, &amp;#34;EUDC&amp;#34;, &amp;#34;Regular&amp;#34;, &amp;#34;655&amp;#34;, &amp;#34;1.0.0&amp;#34;)
Generate(&amp;#34;EUDC.ttf&amp;#34;)
Generate(&amp;#34;EUDC.woff&amp;#34;)
Generate(&amp;#34;EUDC.woff2&amp;#34;)
Close()
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;把 &lt;code&gt;EUDC.tte&lt;/code&gt;、&lt;code&gt;tte-extract&lt;/code&gt;放在同一個位址，在該目錄下用指令執行轉檔 (fontforge.exe 的位址可能需要修改)： &lt;code&gt;C:/Program\ Files\ \(x86\)/FontForgeBuilds/bin/fontforge.exe -script tte-extract.pe&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;得到的 &lt;code&gt;woff&lt;/code&gt;、&lt;code&gt;woff2&lt;/code&gt;、&lt;code&gt;ttf&lt;/code&gt; 用 css 設定為網頁字形：
&lt;ul&gt;
&lt;li&gt;設定網頁字形
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;font-family: &amp;#34;EUDC&amp;#34;;
font-style: normal;
src: url(&amp;#39;./fonts/EUDC.woff2&amp;#39;) format(&amp;#39;woff2&amp;#39;),
url(&amp;#39;./fonts/EUDC.woff&amp;#39;) format(&amp;#39;woff&amp;#39;),
url(&amp;#39;./fonts/EUDC.ttf&amp;#39;) format(&amp;#39;truetype&amp;#39;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;套用網頁字形
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
font-family: &amp;#39;其他優先使用的字型&amp;#39;, &amp;#39;EUDC&amp;#39;, sans-serif;
font-display: auto;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;其他讓-rdlc-可顯示字造難字&#34;&gt;其他：讓 RDLC 可顯示字造難字&lt;/h2&gt;
&lt;h3 id=&#34;windows&#34;&gt;windows&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ttf 丟到 &lt;code&gt;C:\Windows\Fonts&lt;/code&gt;，可能要重啟 IDE 才抓得到字型。&lt;/li&gt;
&lt;li&gt;report 裡面的字型選擇 EUDC&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>[WebTech] OSI 七層協定</title>
      <link>https://0.0.0.0:1313/posts/web/osi/</link>
      <pubDate>Mon, 16 Nov 2020 05:42:00 +0800</pubDate>
      
      <guid>https://0.0.0.0:1313/posts/web/osi/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;Layer 1:實體層（Physical Layer）&lt;/li&gt;
&lt;li&gt;Layer 2:資料連結層（Data Link Layer）&lt;/li&gt;
&lt;li&gt;Layer 3:網路層（Network Layer）&lt;/li&gt;
&lt;li&gt;Layer 4:傳輸層（Transport Layer）&lt;/li&gt;
&lt;li&gt;Layer 5:會議層（Session Layer）&lt;/li&gt;
&lt;li&gt;Layer 6:展示層（Presentation Layer）&lt;/li&gt;
&lt;li&gt;Layer 7:應用層（Application Layer）&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;reference&#34;&gt;Reference&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ithelp.ithome.com.tw/articles/10000021&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ithome - 什麼是OSI的7層架構？和常聽到的Layer 7有關？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zh.wikipedia.org/wiki/OSI%E6%A8%A1%E5%9E%8B&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;wiki - OSI 模型&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://linux.vbird.org/linux_server/0110network_basic.php#whatisnetwork_osi&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;鳥哥的 Linux 私房菜 - 網路基礎概念&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    
  </channel>
</rss>
